# shows a tooltip to warn before declaring neutrality in a diplomatic play if
# initiator is allied
# target is allied or has defensive pact
kmpmp_sgui_diplomatic_play_declare_neutrality_warning = {
    scope = country
    saved_scopes = { diplomatic_play }
    
    effect = {
        if = {
            limit = {
                any_scope_treaty = {
                    binds = scope:diplomatic_play.initiator
                    any_scope_article = {
                        has_type = alliance
                        save_temporary_scope_as = treaty_article
                    }
                    scope:diplomatic_play.initiator = {
                        save_temporary_scope_as = other
                    }
                }
            }
            custom_tooltip = KMPMP_SGUI_DIPLOMATIC_PLAY_DECLARE_NEUTRALITY_WARNING
        }
        else = {
            custom_tooltip = EMPTY
        }
        
        if = {
            limit = {
                any_scope_treaty = {
                    binds = scope:diplomatic_play.target
                    any_scope_article = {
                        OR = {
                            has_type = alliance
                            has_type = defensive_pact
                        }
                        save_temporary_scope_as = treaty_article
                    }
                    scope:diplomatic_play.target = {
                        save_temporary_scope_as = other
                    }
                }
            }
            custom_tooltip = KMPMP_SGUI_DIPLOMATIC_PLAY_DECLARE_NEUTRALITY_WARNING
        }
        else = {
            custom_tooltip = EMPTY
        }
    }
}